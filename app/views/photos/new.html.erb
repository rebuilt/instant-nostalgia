<main class="content-wrapper">
  <h1> <%= t('.upload_title')  %> </h1>

  <%= render(partial: "error_messages", locals: {model: @photo})  %>
  <%= render(partial: "flash_messages")  %>

  <p id="uploads-remaining"> <%= "#{t('.description_start')} #{@uploads_remaining} #{t('.description_end')}"  %> </p>
  <% if(@uploads_remaining > 0 )  %>
    <p> <%= t('.instructions')  %> </p>

    <%= form_with(url: photo_uploads_path, class: "mt-3") do |form|  %>
      <div class="field">

          <%= form.file_field :image, multiple: true, direct_upload: true, id: "file-select", class: 'input-group__file' %>
      </div>
      <div class="field">
        <div class="dropzone" data-controller='dropzone'>
          <%= form.file_field :image, multiple: true, direct_upload: true, class: 'input-group__file', data: {target: 'dropzone.input'} %>
        </div>
      </div>
      <%= form.submit t('.upload_title'), id: 'upload', class: 'btn btn--primary hidden' %>
    <% end %>

    <div id="message" class="mt-3"></div>
    <div id="status" class="mt-3"></div>
  <% end %>
</main>
    <%= javascript_pack_tag 'direct_uploads'  %>
