<h1>Photos#index</h1>

    <div id="map">Map!</div>


<ul>
  <% if @photos.present?  %>
    <% @photos.each do |photo|  %>
      <li>
        <%= link_to photo_path(photo) do  %>
          <%= image_tag(photo.image, style: "height: 100px; width: 100px;") if photo.image.attached? %>
          <p>  <%= photo.file_name  %> </p>
          <p>  <%= photo.latitude_in_degrees  %> </p>
          <p>  <%= photo.longitude_in_degrees  %> </p>
          <p>  <%= photo.date_time_digitized  %> </p>
          <p>  <%= photo.latitude_in_decimal %> </p>
          <p>  <%= photo.longitude_in_decimal %> </p>
        <% end %>
      </li>
    <% end %>
  <% end %>

</ul>

  <script>

function initMap() {
  map = new google.maps.Map(document.getElementById("map"), {
    center: { lat: <%= @photos.first.latitude_in_decimal  %> , lng: <%= @photos.first.longitude_in_decimal  %>  },
    zoom: 8
  });

  <% @photos.each do |photo|  %> 
  addMarkers(<%= photo.latitude_in_decimal %> , <%= photo.longitude_in_decimal  %> );
<% end %>
}

function addMarkers(latitude, longitude){
  var marker = new google.maps.Marker({
    position: {lat: latitude  , lng: longitude },
    map: map,
    title: 'Hello World!'
  });

}

  </script>

<%# <div data-controller="hello"> %>
<%#   <input data-target="hello.name" type="text"> %>

<%#   <button data-action="click->hello#greet"> %>
<%#     Greet %>
<%#   </button> %>

<%#   <span data-target="hello.output"> %>
<%#   </span> %>
<%# </div> %>
